# YunOS
Collection all the trail on Ali YunOS(Tmall box).

## Vulnerability Scan

测试机：Tmall Box V10  
系统：YunOS 3.0.2  
Android版本：4.4
Kernel version：3.10.33

用[VTS for Android](https://play.google.com/store/apps/details?id=com.nowsecure.android.vts)扫描的结果，有以下10个漏洞可被利用。

1. [CVE-2015-1474](http://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2015-1474)
 
    **Introduction**

    Multiple integer overflows in the `GraphicBuffer::unflatten` function in `platform/frameworks/native/libs/ui/GraphicBuffer.cpp` in Android through 5.0
allow attackers to gain privileges or cause a denial of service (memory corruption) via vectors that trigger a large number of (1) file descriptors or (2) integer values.

    A remote user can send specially crafted data to trigger an integer overflow in GraphicBuffer::unflatten() and potentially execute arbitrary code on the target system. The code will run with **the privileges of the target application**.

    **Affected Android version**

    低于Lollipop 5.1的所有版本。

    **Patches**

    Android Bug id 18076253
    
    [Patch代码](https://android.googlesource.com/platform/frameworks/native/+/38803268570f90e97452cd9a30ac831661829091%5E%21/#F0)参考。
    
    **PoC**
    
    [Attack vector](http://seclists.org/fulldisclosure/2015/Mar/63)

1. CVE-2015-1538-2

1. CVE-2015-1538-3

1. CVE-2015-1538-4

1. [CVE-2015-3864](http://cve.mitre.org/cgi-bin/cvename.cgi?name=2015-3864)

    **Introduction**
    
    Integer underflow in the `MPEG4Extractor::parseChunk` function in `MPEG4Extractor.cpp` in `libstagefright` in mediaserver in Android before 5.1.1 LMY48M allows remote attackers to execute arbitrary code via crafted MPEG-4 data, aka internal bug 23034759. 
    
    NOTE: this vulnerability exists because of an incomplete fix for [CVE-2015-3824](http://cve.mitre.org/cgi-bin/cvename.cgi?name=2015-3824).

    **Affected Android version**
    
    低于5.1.1的版本。

    **Patches**
    
    [Patch代码](https://android.googlesource.com/platform/frameworks/av/+/6fe85f7e15203e48df2cc3e8e1c4bc6ad49dc968%5E%21/#F0)参考。
    
    [参考](https://groups.google.com/forum/message/raw?msg=android-security-updates/1M7qbSvACjo/Y7jewiW1AwAJ)。


1. CVE-2015-6608

1. CVE-2015-1528

1. CVE-2015-3825

1. CVE-2015-3636

1. [CVE-2014-3153](http://cve.mitre.org/cgi-bin/cvename.cgi?name=2014-3153)

    **Introduction**
    
    The `futex_requeue` function in `kernel/futex.c` in the Linux kernel through 3.14.5 does not ensure that calls have two different futex addresses, which allows local users to gain privileges via a crafted `FUTEX_REQUEUE` command that facilitates unsafe waiter modification.
    
    **Patches**
    
    [Patch代码](https://github.com/torvalds/linux/commit/e9c243a5a6de0be8e584c604d353412584b592f8)参考。
    
    **Exploit**
    
    [exploit代码](https://www.exploit-db.com/exploits/35370/)参考。


## Tools Trail

#### Framaroot

[v1.9.3](http://forum.xda-developers.com/apps/framaroot/root-framaroot-one-click-apk-to-root-t2130276)

Package:

    com.alephzain.framaroot/com.alephzain.framaroot.FramaActivity
    com.alephzain.framaroot/com.alephzain.framaroot.FramaAdbActivity

#### KingRoot

[v4.6.0](http://forum.xda-developers.com/android/apps-games/one-click-root-tool-android-2-x-5-0-t3107461)

Package:

    com.kingroot.kinguser/.activitys.SliderMainActivity

失败

#### Root精灵1.4.51(瓶子科技)

失败

#### 一键Root大师5.1.1(opda耘升)

失败